// Normalization
// -------------------------------------------------------------------
// 1. Correct `inline-block` display not defined in IE 8/9.
// 2. Remove the gap between images, videos, audio and canvas and the bottom of
//    their containers: h5bp.com/i/440
embed,
iframe,
object,
img {
  display: inline-block; // [1]
  vertical-align: middle; // [2]
}

// Prevent border around iframes.
iframe { border: 0; }

img {
  border: 0; // Remove border when inside `a` element in IE 8/9/10
  font-style: italic; // So that `alt` text is visually offset if images donâ€™t load
  height: auto; // Scale the height according to the width, otherwise you get stretching
  -ms-interpolation-mode: bicubic; // http://css-tricks.com/ie-fix-bicubic-scaling-for-images/
}

// Better control over svg size
svg { max-height: 100%; }

// Google Maps breaks if `max-width: 100%` acts upon it; use their selector
// to remove the effects.
.gm-style img { max-width: none; }


// Base embed styles
// -------------------------------------------------------------------
// Make stuff responsive
img, canvas, iframe, video, svg { max-width: 100%; }

// Article embeds
figure {
  margin-bottom: $p-mb;
  padding-top: $space-1;
}

figcaption {
  color: $light-gray;
  font-family: $sans-serif;
  font-size: $font-size--sm;
  font-weight: 400;
  line-height: $line-height--sm;
  margin-left: auto;
  margin-right: auto;
  max-width: $max-post-width;
  padding-left: $outside-mobile-margin;
  padding-right: $outside-mobile-margin;
  padding-top: $space-1;

  @media screen and (min-width: $breakpoint--md) {
    padding-left: 0;
    padding-right: 0;
  }
}

.embed {
  margin-left: auto;
  margin-right: auto;
  max-width: $max-post-width+($max-post-width/2);
}

.inline-image {
  @media screen and (min-width: $breakpoint--md) {
    max-width: $max-post-width;

    figure {
      position: relative;
    }

    figcaption {
      left: -($max-post-width/4);
      margin: 0;
      position: absolute;
      text-align: right;
      top: 0;
      width: 5.2rem;
    }

    figcaption:before {
      width: 25%;
      margin-left: 75%;
      border-top: 1px solid $lightest-gray;
      display: block;
      content: "";
      margin-bottom: $baseline;
    }
  }
}

.aside-image {
  @media screen and (min-width: $breakpoint--md) {
    float: left;
    margin-left: -($max-post-width/4);
    margin-right: $space-3;
    width: $max-post-width/2;
  }
}
